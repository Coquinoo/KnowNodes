div
    div.topbar-gap &nbsp
    div.row-fluid
        div.span24.input-interface
            div.alert.alert-success.alert-block.tutorial-success(data-intro="don't worry about connecting anything fancy, this is just to get you started", data-position="right", ng-show="isTutorialOn")
                button.close(type="button", data-dismiss="alert") &times;
                p Welcome, time to create your first connection. &nbsp
                p(ng-hide='isUserLoggedIn') If you want to create a connection, don't forget to &nbsp
                    a(href="/login/") login.
                p(ng-show='isUserLoggedIn') Ok, you're all logged up.
                p In Knownodes we connect things and take careful attention to describe how they are connected, so the connection will make sense to other people.
                p Let's start by connecting something to "{{concept.title}}".
                    p
                        a.tutorial-toggle(onclick="$('body').chardinJs('toggle')") Click this to see how
            div(triplet-input)

        div.span9.offset3(ng-repeat="triplet in knownodeList | orderBy:orderProp", ng-switch on="triplet.otherResource.id == triplet.connection.fromNodeId")
                div(ng-switch-default)
                    div.triplet
                        div(end-resource)
                        div(connection)
                        div(start-resource)
                        p.info-line
                            em.info-time {{(triplet.connection.__CreatedOn__) | timeAgo}}
                            em by
                            em.info-name {{triplet.connection.creator.firstName}} {{triplet.connection.creator.lastName}}
                            span
                                a.pull-right.info-comment(ng-href="/edge/:{{triplet.connection.KN_ID}}", ng-switch on="triplet.commentCount")
                                    span.text-warning(ng-switch-default) {{triplet.commentCount}} comments
                                    span(ng-switch-when="0") comment

                div(ng-switch-when="true")
                    div.triplet
                        div(start-resource)
                        div(connection)
                        div(end-resource)
                        p
                            em.info-time {{(triplet.connection.__CreatedOn__) | timeAgo}}
                            em by
                            em.info-name {{triplet.connection.creator.firstName}} {{triplet.connection.creator.lastName}}
                            span
                                a.pull-right.info-comment(ng-href="/edge/:{{triplet.connection.KN_ID}}", ng-switch on="triplet.commentCount")
                                    span.text-warning(ng-switch-default) {{triplet.commentCount}} comments
                                    span(ng-switch-when="0") comment

        div.span9.offset3(ng-repeat="link in concept.wikipediaLinks", ng-switch on="link.title != concept.title")
            div.triplet(ng-switch-when="true")
                div
                    a(ng-href="/wikipedia/{{concept.title}}", title="{{concept.title}}") {{concept.title}}
                        a(ng-href="http://en.wikipedia.org/wiki/{{concept.title}}", target="_blank")
                            img.titleIcon(src="/img/openInNewWindow.png", title="{{concept.title}}", width="20px", ng-show="concept.title")

                div(class="auto-generated")
                    div
                        span &nbsp;Wikipedia Link
                div
                    a(ng-href="/wikipedia/{{link.title}}", title="{{link.title}}") {{link.title}}
                        a(ng-href="http://en.wikipedia.org/wiki/{{link.title}}", target="_blank")
                            img.titleIcon(src="/img/openInNewWindow.png", title="{{link.title}}", width="20px", ng-show="link.title")
